# 闭包问题

闭包是一个老生常谈的问题了，面试的时候经常会被问到，所以到底什么是闭包？闭包有什么作用？

## 什么是闭包

《JavaScript高级程序设计》第三版中讲到：闭包是指有权访问另一个函数作用域中的变量的函数

简单理解闭包的含义：函数嵌套函数时，内层函数引用了外层函数作用域下的变量，并且内层函数在全局环境下可访问，从而形成闭包

## code
```javascript
function fn() {
  let num = 1

  return function () {
    console.log('this', this) // this -> window
    console.log('num', num)
  }
}

const n = fn();
```
![闭包](/assets/images/closure.jpg)


这个例子中，通过浏览器调试后可以看到，正常情况下函数调用后，作用域环境指到了window对象下，是无法访问函数内部变量的，但是现在依然能够访问到num变量。因为在fn函数中返回了另一个函数，通过调用这个函数获取到了fn内部的num变量，此时浏览器会给num变量打上一个Closure标签(闭包变量)



## 闭包的优缺点
缺点：由于闭包中的变量是不会被回收的，大量使用闭包后有可能会导致内存泄露    
优点：我们可以利用闭包来实现模块化，在很多框架代码中都会使用到闭包的概念

